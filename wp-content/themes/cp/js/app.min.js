"use strict";

$(".nav-tools__search").on("click", function () {
  $(".nav-tools__search-block_click").toggleClass("nav-tools__search-block_click-show");
  $(".nav-tools__search").toggleClass("nav-tools-close"); // $('.header').toggleClass('header-onclick-search_and_burg');

  if ($(".nav-tools__search-block_click-show")) {
    $(".nav-tools__burger").removeClass("nav-tools__burger-open");
    $(".burger-menu__block").removeClass("burger-menu__block-show");
  }
});
$(".nav-tools__burger").on("click", function () {
  $(".nav-tools__burger").toggleClass("nav-tools__burger-open");
  $(".burger-menu__block").toggleClass("burger-menu__block-show");

  if ($(".burger-menu__block-show")) {
    $(".nav-tools__search-block_click").removeClass("nav-tools__search-block_click-show");
    $(".nav-tools__search").removeClass("nav-tools-close");
  }
});
var p = $(".popup__overlay");
$(".popup__toggle").click(function () {
  p.addClass("popup_open");
});
p.click(function (event) {
  e = event || window.event;

  if (e.target == this) {
    $(p).removeClass("popup_open");
  }
});
$(".popup__close").click(function () {
  p.removeClass("popup_open");
});
$(function () {
  $(".popup__toggle").bind("click", function (e) {
    e.preventDefault();
  });
});
$("#textArea-connect").on("keydown keyup", function () {
  this.style.height = "1px";
  this.style.height = this.scrollHeight + "px";
  this.style.transition = "height .3s ease";
});
$(document).ready(function () {
  var searchBlock = $(".nav-tools__search-block_click");
  var menuBlock = $(".burger-menu__block");

  if ($("body").hasClass("home")) {
    $(window).scroll(function () {
      if ($(document).scrollTop() > 70 && $(document).scrollTop() <= 600) {
        if (searchBlock.hasClass("nav-tools__search-block_click-show") || menuBlock.hasClass("burger-menu__block-show")) {
          $(".header").css({
            'display': 'flex'
          });
        } else {
          $(".header").addClass('header-visibility-none');
        }

        ;
      } else {
        $(".header").removeClass('header-visibility-none');
      }

      if ($(document).scrollTop() >= 600) {
        $(".header").addClass("black-header");
      } else {
        $(".header").removeClass("black-header");
      }
    });
  }
});
$(".slider-nav__block").click(function () {
  $(".slider-for__container").hide().eq($(this).index()).fadeIn();
  $('.slider-nav__block').removeClass('active-block');
  $(this).addClass('active-block');
});
$(".dot").click(function () {
  $(".slider-for__container").hide().eq($(this).index()).fadeIn();
  $(".dot").removeClass('dot-active');
  $(this).addClass('dot-active');
});
$(".nav-bar__prev").click(function () {
  var activeDot = $(".dot-active");
  var indexOfDot = $(".dot-active").index();
  $(".slider-for__container").hide().eq($(".dot-active").index() - 1).fadeIn();
  activeDot.removeClass("dot-active");
  $(".dot").eq(indexOfDot - 1).addClass("dot-active");
});
$(".nav-bar__next").click(function () {
  var activeDot = $(".dot-active");
  var indexOfDot = $(".dot-active").index();
  var sliderBlock = $(".slider-for__container");
  var currentColor = $('.content-active');
  activeDot.removeClass("dot-active");

  if (indexOfDot === 3) {
    $(".dot").eq(0).addClass("dot-active");
  }

  $(".dot").eq(indexOfDot + 1).addClass("dot-active");
  sliderBlock.removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').fadeIn();

  if (currentColor.children(".slider-nav__block-top").hasClass('green')) {
    activeDot.css({
      'background-color': 'green'
    });
  }
});
$(".hidden-block__open").on("click", function () {
  $(".text-block__half-hidden").css("max-height", "800px");
  $(".hidden-block__open").hide(1500);
  $(".text-block__half-hidden").css("box-shadow", "none");
  $(".hidden-block__about-link").animate();
}); // $('.sliderMain').slick({
//   slidesToShow: 1,
//   slidesToScroll: 1,
//   arrows: false,
//   fade: true,
//   adaptiveHeight: true,
//   asNavFor: '.sliderSidebar',
//   centerMode: true,
//   autoplay: false,    
// });
// $('.sliderSidebar').slick({
//   slidesToShow: 4,
//   slidesToScroll: 1,
//   asNavFor: '.sliderMain',
//   dots: false,
//   centerMode: false,
//   adaptiveHeight: true,
//   focusOnSelect: true,
//   vertical: true,
//   arrows: false
// });
// $('.sliderMain').on('afterChange', function(event, slick, currentSlide){
//   if (currentSlide == 12) {
//   $('.sliderMain').slick('slickPause');
//   $('#slide-video').play();
//   }
// });
// document.getElementById('slide-video').addEventListener('ended',myHandler,false);
// function myHandler(e) {
// $('.sliderMain').slick('slickPlay');
// }
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwib24iLCJ0b2dnbGVDbGFzcyIsInJlbW92ZUNsYXNzIiwicCIsImNsaWNrIiwiYWRkQ2xhc3MiLCJldmVudCIsImUiLCJ3aW5kb3ciLCJ0YXJnZXQiLCJiaW5kIiwicHJldmVudERlZmF1bHQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsInRyYW5zaXRpb24iLCJkb2N1bWVudCIsInJlYWR5Iiwic2VhcmNoQmxvY2siLCJtZW51QmxvY2siLCJoYXNDbGFzcyIsInNjcm9sbCIsInNjcm9sbFRvcCIsImNzcyIsImhpZGUiLCJlcSIsImluZGV4IiwiZmFkZUluIiwiYWN0aXZlRG90IiwiaW5kZXhPZkRvdCIsInNsaWRlckJsb2NrIiwiY3VycmVudENvbG9yIiwiY2hpbGRyZW4iLCJhbmltYXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxDQUFDLENBQUMsb0JBQUQsQ0FBRCxDQUF3QkMsRUFBeEIsQ0FBMkIsT0FBM0IsRUFBb0MsWUFBWTtBQUM5Q0QsRUFBQUEsQ0FBQyxDQUFDLGdDQUFELENBQUQsQ0FBb0NFLFdBQXBDLENBQ0Usb0NBREY7QUFHQUYsRUFBQUEsQ0FBQyxDQUFDLG9CQUFELENBQUQsQ0FBd0JFLFdBQXhCLENBQW9DLGlCQUFwQyxFQUo4QyxDQUs5Qzs7QUFFQSxNQUFJRixDQUFDLENBQUMscUNBQUQsQ0FBTCxFQUE4QztBQUM1Q0EsSUFBQUEsQ0FBQyxDQUFDLG9CQUFELENBQUQsQ0FBd0JHLFdBQXhCLENBQW9DLHdCQUFwQztBQUNBSCxJQUFBQSxDQUFDLENBQUMscUJBQUQsQ0FBRCxDQUF5QkcsV0FBekIsQ0FBcUMseUJBQXJDO0FBQ0Q7QUFFRixDQVpEO0FBY0FILENBQUMsQ0FBQyxvQkFBRCxDQUFELENBQXdCQyxFQUF4QixDQUEyQixPQUEzQixFQUFvQyxZQUFZO0FBQzlDRCxFQUFBQSxDQUFDLENBQUMsb0JBQUQsQ0FBRCxDQUF3QkUsV0FBeEIsQ0FBb0Msd0JBQXBDO0FBQ0FGLEVB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QWpCLEVBQXJELEVBQStFckIsUUFBL0UsQ0FBd0YsZ0JBQXhGLEVBQTBHc0IsTUFBMUc7O0FBRUEsTUFBR0ksWUFBWSxDQUFDQyxRQUFiLENBQXNCLHdCQUF0QixFQUFnRFosUUFBaEQsQ0FBeUQsT0FBekQsQ0FBSCxFQUFzRTtBQUNwRVEsSUFBQUEsU0FBUyxDQUFDTCxHQUFWLENBQWM7QUFBQywwQkFBcUI7QUFBdEIsS0FBZDtBQUNEO0FBQ0YsQ0FqQkQ7QUFvQkF4QixDQUFDLENBQUMscUJBQUQsQ0FBRCxDQUF5QkMsRUFBekIsQ0FBNEIsT0FBNUIsRUFBcUMsWUFBVztBQUM5Q0QsRUFBQUEsQ0FBQyxDQUFDLDBCQUFELENBQUQsQ0FBOEJ3QixHQUE5QixDQUFrQyxZQUFsQyxFQUFnRCxPQUFoRDtBQUNBeEIsRUFBQUEsQ0FBQyxDQUFDLHFCQUFELENBQUQsQ0FBeUJ5QixJQUF6QixDQUE4QixJQUE5QjtBQUNBekIsRUFBQUEsQ0FBQyxDQUFDLDBCQUFELENBQUQsQ0FBOEJ3QixHQUE5QixDQUFrQyxZQUFsQyxFQUFpRCxNQUFqRDtBQUNBeEIsRUFBQUEsQ0FBQyxDQUFDLDJCQUFELENBQUQsQ0FBK0JrQyxPQUEvQjtBQUNELENBTEQsRSxDQVNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiJChcIi5uYXYtdG9vbHNfX3NlYXJjaFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrXCIpLnRvZ2dsZUNsYXNzKFxyXG4gICAgXCJuYXYtdG9vbHNfX3NlYXJjaC1ibG9ja19jbGljay1zaG93XCJcclxuICApO1xyXG4gICQoXCIubmF2LXRvb2xzX19zZWFyY2hcIikudG9nZ2xlQ2xhc3MoXCJuYXYtdG9vbHMtY2xvc2VcIik7XHJcbiAgLy8gJCgnLmhlYWRlcicpLnRvZ2dsZUNsYXNzKCdoZWFkZXItb25jbGljay1zZWFyY2hfYW5kX2J1cmcnKTtcclxuXHJcbiAgaWYgKCQoXCIubmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2stc2hvd1wiKSkge1xyXG4gICAgJChcIi5uYXYtdG9vbHNfX2J1cmdlclwiKS5yZW1vdmVDbGFzcyhcIm5hdi10b29sc19fYnVyZ2VyLW9wZW5cIik7XHJcbiAgICAkKFwiLmJ1cmdlci1tZW51X19ibG9ja1wiKS5yZW1vdmVDbGFzcyhcImJ1cmdlci1tZW51X19ibG9jay1zaG93XCIpO1xyXG4gIH1cclxuICBcclxufSk7XHJcblxyXG4kKFwiLm5hdi10b29sc19fYnVyZ2VyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICQoXCIubmF2LXRvb2xzX19idXJnZXJcIikudG9nZ2xlQ2xhc3MoXCJuYXYtdG9vbHNfX2J1cmdlci1vcGVuXCIpO1xyXG4gICQoXCIuYnVyZ2VyLW1lbnVfX2Jsb2NrXCIpLnRvZ2dsZUNsYXNzKFwiYnVyZ2VyLW1lbnVfX2Jsb2NrLXNob3dcIik7XHJcbiAgXHJcbiAgaWYgKCQoXCIuYnVyZ2VyLW1lbnVfX2Jsb2NrLXNob3dcIikpIHtcclxuICAgICQoXCIubmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2tcIikucmVtb3ZlQ2xhc3MoXHJcbiAgICAgIFwibmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2stc2hvd1wiXHJcbiAgICApO1xyXG4gICAgJChcIi5uYXYtdG9vbHNfX3NlYXJjaFwiKS5yZW1vdmVDbGFzcyhcIm5hdi10b29scy1jbG9zZVwiKTtcclxuICB9XHJcblxyXG59KTtcclxuXHJcbnZhciBwID0gJChcIi5wb3B1cF9fb3ZlcmxheVwiKTtcclxuJChcIi5wb3B1cF9fdG9nZ2xlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICBwLmFkZENsYXNzKFwicG9wdXBfb3BlblwiKTtcclxufSk7XHJcbnAuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcclxuICBpZiAoZS50YXJnZXQgPT0gdGhpcykge1xyXG4gICAgJChwKS5yZW1vdmVDbGFzcyhcInBvcHVwX29wZW5cIik7XHJcbiAgfVxyXG59KTtcclxuJChcIi5wb3B1cF9fY2xvc2VcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gIHAucmVtb3ZlQ2xhc3MoXCJwb3B1cF9vcGVuXCIpO1xyXG59KTtcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi5wb3B1cF9fdG9nZ2xlXCIpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiQoXCIjdGV4dEFyZWEtY29ubmVjdFwiKS5vbihcImtleWRvd24ga2V5dXBcIiwgZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcclxuICB0aGlzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG4gIHRoaXMuc3R5bGUudHJhbnNpdGlvbiA9IFwiaGVpZ2h0IC4zcyBlYXNlXCI7XHJcbn0pO1xyXG5cclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcblxyXG4gIHZhciBzZWFyY2hCbG9jayA9ICAkKFwiLm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrXCIpO1xyXG4gIHZhciBtZW51QmxvY2sgPSAkKFwiLmJ1cmdlci1tZW51X19ibG9ja1wiKTtcclxuICBcclxuICBpZiAoJChcImJvZHlcIikuaGFzQ2xhc3MoXCJob21lXCIpKSB7XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPiA3MCAmJiAkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA8PSA2MDApIHtcclxuICAgICAgICBpZihzZWFyY2hCbG9jay5oYXNDbGFzcyhcclxuICAgICAgICAgIFwibmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2stc2hvd1wiXHJcbiAgICAgICAgKSB8fCBtZW51QmxvY2suaGFzQ2xhc3MoXCJidXJnZXItbWVudV9fYmxvY2stc2hvd1wiKSkge1xyXG4gICAgICAgICAgJChcIi5oZWFkZXJcIikuY3NzKHsnZGlzcGxheScgOiAnZmxleCd9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoJ2hlYWRlci12aXNpYmlsaXR5LW5vbmUnKVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoJ2hlYWRlci12aXNpYmlsaXR5LW5vbmUnKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPj0gNjAwKSB7XHJcbiAgICAgXHJcbiAgICAgICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcImJsYWNrLWhlYWRlclwiKTtcclxuICAgICAgICBcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiLmhlYWRlclwiKS5yZW1vdmVDbGFzcyhcImJsYWNrLWhlYWRlclwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSAgXHJcbn0pO1xyXG5cclxuJChcIi5zbGlkZXItbmF2X19ibG9ja1wiKS5jbGljayhmdW5jdGlvbigpIHsgIFxyXG4gICQoXCIuc2xpZGVyLWZvcl9fY29udGFpbmVyXCIpLmhpZGUoKS5lcSggJCh0aGlzKS5pbmRleCgpKS5mYWRlSW4oKTsgIFxyXG4gICQoJy5zbGlkZXItbmF2X19ibG9jaycpLnJlbW92ZUNsYXNzKCdhY3RpdmUtYmxvY2snKTtcclxuICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUtYmxvY2snKTsgIFxyXG59KTtcclxuXHJcbiQoXCIuZG90XCIpLmNsaWNrKGZ1bmN0aW9uKCkgeyAgXHJcbiAgJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIikuaGlkZSgpLmVxKCAkKHRoaXMpLmluZGV4KCkpLmZhZGVJbigpOyAgICBcclxuICAkKFwiLmRvdFwiKS5yZW1vdmVDbGFzcygnZG90LWFjdGl2ZScpO1xyXG4gICQodGhpcykuYWRkQ2xhc3MoJ2RvdC1hY3RpdmUnKTsgIFxyXG59KTtcclxuXHJcbiQoXCIubmF2LWJhcl9fcHJldlwiKS5jbGljayhmdW5jdGlvbigpIHsgIFxyXG4gIHZhciBhY3RpdmVEb3QgPSAkKFwiLmRvdC1hY3RpdmVcIik7XHJcbiAgdmFyIGluZGV4T2ZEb3QgPSAkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKTtcclxuICAkKFwiLnNsaWRlci1mb3JfX2NvbnRhaW5lclwiKS5oaWRlKCkuZXEoICQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpIC0gMSkuZmFkZUluKCk7IFxyXG4gIGFjdGl2ZURvdC5yZW1vdmVDbGFzcyhcImRvdC1hY3RpdmVcIik7XHJcbiAgJChcIi5kb3RcIikuZXEoaW5kZXhPZkRvdCAtIDEpLmFkZENsYXNzKFwiZG90LWFjdGl2ZVwiKTtcclxufSk7XHJcblxyXG4kKFwiLm5hdi1iYXJfX25leHRcIikuY2xpY2soZnVuY3Rpb24oKSB7ICBcclxuICB2YXIgYWN0aXZlRG90ID0gJChcIi5kb3QtYWN0aXZlXCIpO1xyXG4gIHZhciBpbmRleE9mRG90ID0gJChcIi5kb3QtYWN0aXZlXCIpLmluZGV4KCk7XHJcbiAgdmFyIHNsaWRlckJsb2NrID0gJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIik7XHJcbiAgdmFyIGN1cnJlbnRDb2xvciA9ICQoJy5jb250ZW50LWFjdGl2ZScpO1xyXG4gICBcclxuICBhY3RpdmVEb3QucmVtb3ZlQ2xhc3MoXCJkb3QtYWN0aXZlXCIpO1xyXG4gIGlmKGluZGV4T2ZEb3QgPT09IDMpIHtcclxuICAgICQoXCIuZG90XCIpLmVxKDApLmFkZENsYXNzKFwiZG90LWFjdGl2ZVwiKTtcclxuICB9XHJcbiAgJChcIi5kb3RcIikuZXEoaW5kZXhPZkRvdCArIDEpLmFkZENsYXNzKFwiZG90LWFjdGl2ZVwiKTtcclxuXHJcbiAgc2xpZGVyQmxvY2sucmVtb3ZlQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuaGlkZSgpLmVxKCAkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKSkuYWRkQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuZmFkZUluKCk7XHJcbiAgXHJcbiAgaWYoY3VycmVudENvbG9yLmNoaWxkcmVuKFwiLnNsaWRlci1uYXZfX2Jsb2NrLXRvcFwiKS5oYXNDbGFzcygnZ3JlZW4nKSkge1xyXG4gICAgYWN0aXZlRG90LmNzcyh7J2JhY2tncm91bmQtY29sb3InIDogJ2dyZWVuJ30pO1xyXG4gIH1cclxufSk7XHJcblxyXG5cclxuJChcIi5oaWRkZW4tYmxvY2tfX29wZW5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAkKFwiLnRleHQtYmxvY2tfX2hhbGYtaGlkZGVuXCIpLmNzcyhcIm1heC1oZWlnaHRcIiwgXCI4MDBweFwiKTtcclxuICAkKFwiLmhpZGRlbi1ibG9ja19fb3BlblwiKS5oaWRlKDE1MDApO1xyXG4gICQoXCIudGV4dC1ibG9ja19faGFsZi1oaWRkZW5cIikuY3NzKFwiYm94LXNoYWRvd1wiICwgXCJub25lXCIpO1xyXG4gICQoXCIuaGlkZGVuLWJsb2NrX19hYm91dC1saW5rXCIpLmFuaW1hdGUoKTtcclxufSlcclxuICBcclxuXHJcblxyXG4gICAgLy8gJCgnLnNsaWRlck1haW4nKS5zbGljayh7XHJcbiAgICAvLyAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgIC8vICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAvLyAgIGFycm93czogZmFsc2UsXHJcbiAgICAvLyAgIGZhZGU6IHRydWUsXHJcbiAgICAvLyAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxyXG4gICAgLy8gICBhc05hdkZvcjogJy5zbGlkZXJTaWRlYmFyJyxcclxuICAgIC8vICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgIC8vICAgYXV0b3BsYXk6IGZhbHNlLCAgICBcclxuICAgIC8vIH0pO1xyXG4gICAgLy8gJCgnLnNsaWRlclNpZGViYXInKS5zbGljayh7XHJcbiAgICAvLyAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgIC8vICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAvLyAgIGFzTmF2Rm9yOiAnLnNsaWRlck1haW4nLFxyXG4gICAgLy8gICBkb3RzOiBmYWxzZSxcclxuICAgIC8vICAgY2VudGVyTW9kZTogZmFsc2UsXHJcbiAgICAvLyAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxyXG4gICAgLy8gICBmb2N1c09uU2VsZWN0OiB0cnVlLFxyXG4gICAgLy8gICB2ZXJ0aWNhbDogdHJ1ZSxcclxuICAgIC8vICAgYXJyb3dzOiBmYWxzZVxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgLy8gJCgnLnNsaWRlck1haW4nKS5vbignYWZ0ZXJDaGFuZ2UnLCBmdW5jdGlvbihldmVudCwgc2xpY2ssIGN1cnJlbnRTbGlkZSl7XHJcbiAgICAvLyAgIGlmIChjdXJyZW50U2xpZGUgPT0gMTIpIHtcclxuICAgIC8vICAgJCgnLnNsaWRlck1haW4nKS5zbGljaygnc2xpY2tQYXVzZScpO1xyXG4gICAgLy8gICAkKCcjc2xpZGUtdmlkZW8nKS5wbGF5KCk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pO1xyXG4gICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NsaWRlLXZpZGVvJykuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLG15SGFuZGxlcixmYWxzZSk7XHJcbiAgICAvLyBmdW5jdGlvbiBteUhhbmRsZXIoZSkge1xyXG4gICAgLy8gJCgnLnNsaWRlck1haW4nKS5zbGljaygnc2xpY2tQbGF5Jyk7XHJcbiAgICAvLyB9XHJcbiJdLCJmaWxlIjoiYXBwLm1pbi5qcyJ9
