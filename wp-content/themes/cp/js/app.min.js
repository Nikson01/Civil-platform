"use strict";

$(document).ready(function () {
  $(window).on('load', function () {
    var headerLocation = $("header").offset();

    if (headerLocation.top > 600) {
      $(".header").addClass("black-header");
    } else if (headerLocation.top > 70 && headerLocation.top < 600) {
      $(".header").addClass('header-visibility-none');
    }
  });
  $(".nav-tools__search").on("click", function () {
    $(".nav-tools__search-block_click").toggleClass("nav-tools__search-block_click-show");
    $(".nav-tools__search").toggleClass("nav-tools-close"); // $('.header').toggleClass('header-onclick-search_and_burg');

    if ($(".nav-tools__search-block_click-show")) {
      $(".nav-tools__burger").removeClass("nav-tools__burger-open");
      $(".burger-menu__block").removeClass("burger-menu__block-show");
    }
  });
  $(".nav-tools__burger").on("click", function () {
    $(".nav-tools__burger").toggleClass("nav-tools__burger-open");
    $(".burger-menu__block").toggleClass("burger-menu__block-show");

    if ($(".burger-menu__block-show")) {
      $(".nav-tools__search-block_click").removeClass("nav-tools__search-block_click-show");
      $(".nav-tools__search").removeClass("nav-tools-close");
    }
  });
  var p = $(".popup__overlay");
  $(".popup__toggle").click(function () {
    p.addClass("popup_open");
  });
  p.click(function (event) {
    e = event || window.event;

    if (e.target == this) {
      $(p).removeClass("popup_open");
    }
  });
  $(".popup__close").click(function () {
    p.removeClass("popup_open");
  });
  $(function () {
    $(".popup__toggle").bind("click", function (e) {
      e.preventDefault();
    });
  });
  $("#textArea-connect").on("keydown keyup", function () {
    this.style.height = "1px";
    this.style.height = this.scrollHeight + "px";
    this.style.transition = "height .3s ease";
  });
  var searchBlock = $(".nav-tools__search-block_click");
  var menuBlock = $(".burger-menu__block");

  if ($("body").hasClass("home")) {
    $(window).scroll(function () {
      if ($(document).scrollTop() > 70 && $(document).scrollTop() <= 600) {
        if (searchBlock.hasClass("nav-tools__search-block_click-show") || menuBlock.hasClass("burger-menu__block-show")) {
          $(".header").css({
            'display': 'flex'
          });
        } else {
          $(".header").addClass('header-visibility-none');
        }

        ;
      } else {
        $(".header").removeClass('header-visibility-none');
      }

      if ($(document).scrollTop() >= 600) {
        $(".header").addClass("black-header");
      } else {
        $(".header").removeClass("black-header");
      }
    });
  } // Top-site slider functions 


  var sliderNavBlock = $(".slider-nav__block");
  var dot = $(".dot");
  var leftArrow = $(".nav-bar__prev");
  var rightArrow = $(".nav-bar__next"); // Function for desktop slider

  sliderNavBlock.click(function () {
    $(".slider-for__container").removeClass('content-active').hide().eq($(this).index()).addClass('content-active').show();
    $('.slider-nav__block').removeClass('active-block');
    $(this).addClass('active-block');
  }); // End of Desktop slider
  // Mobile slider

  dot.click(function () {
    // let sliderBlock = $(".slider-for__container"); 
    $(".dot").removeClass('dot-active');
    $(this).addClass('dot-active');
    $(".slider-for__container").removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').show();
    var currentColor = $('.content-active').children(".slider-nav__block-top").children(".nav__block-top__category").css('background-color');
    $(".dot").css({
      "background-color": "#9d9d9d"
    });
    $(this).css({
      "background-color": currentColor
    });
  });
  leftArrow.click(function () {
    var activeDot = $(".dot-active");
    var indexOfDot = $(".dot-active").index();
    var sliderBlock = $(".slider-for__container");
    activeDot.removeClass("dot-active");
    $(".dot").eq(indexOfDot - 1).addClass("dot-active");
    sliderBlock.removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').show();
    var currentColor = $('.content-active').children(".slider-nav__block-top").children(".nav__block-top__category").css('background-color');
    $(".dot-active").css({
      "background-color": currentColor
    });

    if ($(".dot-active").index() === 3) {
      $(".dot").eq(0).css({
        "background-color": "#9d9d9d"
      });
    }

    $(".dot").eq($(".dot-active").index() + 1).css({
      "background-color": "#9d9d9d"
    });
  });
  rightArrow.click(function () {
    var activeDot = $(".dot-active");
    var indexOfDot = $(".dot-active").index();
    var sliderBlock = $(".slider-for__container");
    activeDot.removeClass("dot-active");

    if (indexOfDot === 3) {
      $(".dot").eq(0).addClass("dot-active");
    } else {
      $(".dot").eq(indexOfDot + 1).addClass("dot-active");
    }

    sliderBlock.removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').show();
    var currentColor = $('.content-active').children(".slider-nav__block-top").children(".nav__block-top__category").css('background-color');
    $(".dot-active").css({
      "background-color": currentColor
    });
    $(".dot").eq($(".dot-active").index() - 1).css({
      "background-color": "#9d9d9d"
    });
  }); // End of mobile slider
  // End of top-site slider functions

  $(".hidden-block__open").on("click", function () {
    $(".text-block__half-hidden").toggleClass("text-block__half-hidden__open");

    if ($(".text-block__half-hidden").hasClass("text-block__half-hidden__open")) {
      $(".hidden-block__open").html("Свернуть");
    } else {
      $(".hidden-block__open").html("Развернуть");
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndpbmRvdyIsIm9uIiwiaGVhZGVyTG9jYXRpb24iLCJvZmZzZXQiLCJ0b3AiLCJhZGRDbGFzcyIsInRvZ2dsZUNsYXNzIiwicmVtb3ZlQ2xhc3MiLCJwIiwiY2xpY2siLCJldmVudCIsImUiLCJ0YXJnZXQiLCJiaW5kIiwicHJldmVudERlZmF1bHQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsInRyYW5zaXRpb24iLCJzZWFyY2hCbG9jayIsIm1lbnVCbG9jayIsImhhc0NsYXNzIiwic2Nyb2xsIiwic2Nyb2xsVG9wIiwiY3NzIiwic2xpZGVyTmF2QmxvY2siLCJkb3QiLCJsZWZ0QXJyb3ciLCJyaWdodEFycm93IiwiaGlkZSIsImVxIiwiaW5kZXgiLCJzaG93IiwiY3VycmVudENvbG9yIiwiY2hpbGRyZW4iLCJhY3RpdmVEb3QiLCJpbmRleE9mRG90Iiwic2xpZGVyQmxvY2siLCJodG1sIl0sIm1hcHBpbmdzIjoiOztBQUVBQSxDQUFDLENBQUNDLFFBQUQsQ0FBRCxDQUFZQyxLQUFaLENBQWtCLFlBQVk7QUFFNUJGLEVBQUFBLENBQUMsQ0FBQ0csTUFBRCxDQUFELENBQVVDLEVBQVYsQ0FBYSxNQUFiLEVBQXFCLFlBQVk7QUFFL0IsUUFBSUMsY0FBYyxHQUFHTCxDQUFDLENBQUMsUUFBRCxDQUFELENBQVlNLE1BQVosRUFBckI7O0FBRUEsUUFBSUQsY0FBYyxDQUFDRSxHQUFmLEdBQXFCLEdBQXpCLEVBQThCO0FBQzVCUCxNQUFBQSxDQUFDLENBQUMsU0FBRCxDQUFELENBQWFRLFFBQWIsQ0FBc0IsY0FBdEI7QUFDRCxLQUZELE1BRU8sSUFBSUgsY0FBYyxDQUFDRSxHQUFmLEdBQXFCLEVBQXJCLElBQTJCRixjQUFjLENBQUNFLEdBQWYsR0FBcUIsR0FBcEQsRUFBeUQ7QUFDOURQLE1BQUFBLENBQUMsQ0FBQyxTQUFELENBQUQsQ0FBYVEsUUFBYixDQUFzQix3QkFB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QUE5RixDQUFrRyxrQkFBbEcsQ0FBbkI7QUFFQTNCLElBQUFBLENBQUMsQ0FBQyxhQUFELENBQUQsQ0FBaUIyQixHQUFqQixDQUFxQjtBQUFDLDBCQUFxQlM7QUFBdEIsS0FBckI7QUFDQXBDLElBQUFBLENBQUMsQ0FBQyxNQUFELENBQUQsQ0FBVWlDLEVBQVYsQ0FBYWpDLENBQUMsQ0FBQyxhQUFELENBQUQsQ0FBaUJrQyxLQUFqQixLQUEyQixDQUF4QyxFQUEyQ1AsR0FBM0MsQ0FBK0M7QUFBQywwQkFBcUI7QUFBdEIsS0FBL0M7QUFHRCxHQXBCRCxFQXRKOEIsQ0EySzlCO0FBRUE7O0FBR0EzQixFQUFBQSxDQUFDLENBQUMscUJBQUQsQ0FBRCxDQUF5QkksRUFBekIsQ0FBNEIsT0FBNUIsRUFBcUMsWUFBVztBQUM5Q0osSUFBQUEsQ0FBQyxDQUFDLDBCQUFELENBQUQsQ0FBOEJTLFdBQTlCLENBQTBDLCtCQUExQzs7QUFFQSxRQUFJVCxDQUFDLENBQUMsMEJBQUQsQ0FBRCxDQUE4QndCLFFBQTlCLENBQXVDLCtCQUF2QyxDQUFKLEVBQTZFO0FBQzNFeEIsTUFBQUEsQ0FBQyxDQUFDLHFCQUFELENBQUQsQ0FBeUJ5QyxJQUF6QixDQUE4QixVQUE5QjtBQUNELEtBRkQsTUFFTztBQUNMekMsTUFBQUEsQ0FBQyxDQUFDLHFCQUFELENBQUQsQ0FBeUJ5QyxJQUF6QixDQUE4QixZQUE5QjtBQUNEO0FBQ0YsR0FSRDtBQVVDLENBMUxEIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgXHJcbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBoZWFkZXJMb2NhdGlvbiA9ICQoXCJoZWFkZXJcIikub2Zmc2V0KCk7XHJcblxyXG4gICAgaWYgKGhlYWRlckxvY2F0aW9uLnRvcCA+IDYwMCkge1xyXG4gICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcImJsYWNrLWhlYWRlclwiKTtcclxuICAgIH0gZWxzZSBpZiAoaGVhZGVyTG9jYXRpb24udG9wID4gNzAgJiYgaGVhZGVyTG9jYXRpb24udG9wIDwgNjAwKSB7XHJcbiAgICAgICQoXCIuaGVhZGVyXCIpLmFkZENsYXNzKCdoZWFkZXItdmlzaWJpbGl0eS1ub25lJyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgfSk7XHJcbiBcclxuXHJcblxyXG4kKFwiLm5hdi10b29sc19fc2VhcmNoXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICQoXCIubmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2tcIikudG9nZ2xlQ2xhc3MoXHJcbiAgICBcIm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrLXNob3dcIlxyXG4gICk7XHJcbiAgJChcIi5uYXYtdG9vbHNfX3NlYXJjaFwiKS50b2dnbGVDbGFzcyhcIm5hdi10b29scy1jbG9zZVwiKTtcclxuICAvLyAkKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ2hlYWRlci1vbmNsaWNrLXNlYXJjaF9hbmRfYnVyZycpO1xyXG5cclxuICBpZiAoJChcIi5uYXYtdG9vbHNfX3NlYXJjaC1ibG9ja19jbGljay1zaG93XCIpKSB7XHJcbiAgICAkKFwiLm5hdi10b29sc19fYnVyZ2VyXCIpLnJlbW92ZUNsYXNzKFwibmF2LXRvb2xzX19idXJnZXItb3BlblwiKTtcclxuICAgICQoXCIuYnVyZ2VyLW1lbnVfX2Jsb2NrXCIpLnJlbW92ZUNsYXNzKFwiYnVyZ2VyLW1lbnVfX2Jsb2NrLXNob3dcIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbiQoXCIubmF2LXRvb2xzX19idXJnZXJcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgJChcIi5uYXYtdG9vbHNfX2J1cmdlclwiKS50b2dnbGVDbGFzcyhcIm5hdi10b29sc19fYnVyZ2VyLW9wZW5cIik7XHJcbiAgJChcIi5idXJnZXItbWVudV9fYmxvY2tcIikudG9nZ2xlQ2xhc3MoXCJidXJnZXItbWVudV9fYmxvY2stc2hvd1wiKTtcclxuICBcclxuICBpZiAoJChcIi5idXJnZXItbWVudV9fYmxvY2stc2hvd1wiKSkge1xyXG4gICAgJChcIi5uYXYtdG9vbHNfX3NlYXJjaC1ibG9ja19jbGlja1wiKS5yZW1vdmVDbGFzcyhcclxuICAgICAgXCJuYXYtdG9vbHNfX3NlYXJjaC1ibG9ja19jbGljay1zaG93XCJcclxuICAgICk7XHJcbiAgICAkKFwiLm5hdi10b29sc19fc2VhcmNoXCIpLnJlbW92ZUNsYXNzKFwibmF2LXRvb2xzLWNsb3NlXCIpO1xyXG4gIH1cclxuXHJcbn0pO1xyXG5cclxudmFyIHAgPSAkKFwiLnBvcHVwX19vdmVybGF5XCIpO1xyXG4kKFwiLnBvcHVwX190b2dnbGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gIHAuYWRkQ2xhc3MoXCJwb3B1cF9vcGVuXCIpO1xyXG59KTtcclxucC5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xyXG4gIGlmIChlLnRhcmdldCA9PSB0aGlzKSB7XHJcbiAgICAkKHApLnJlbW92ZUNsYXNzKFwicG9wdXBfb3BlblwiKTtcclxuICB9XHJcbn0pO1xyXG4kKFwiLnBvcHVwX19jbG9zZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgcC5yZW1vdmVDbGFzcyhcInBvcHVwX29wZW5cIik7XHJcbn0pO1xyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAkKFwiLnBvcHVwX190b2dnbGVcIikuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuJChcIiN0ZXh0QXJlYS1jb25uZWN0XCIpLm9uKFwia2V5ZG93biBrZXl1cFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xyXG4gIHRoaXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgdGhpcy5zdHlsZS50cmFuc2l0aW9uID0gXCJoZWlnaHQgLjNzIGVhc2VcIjtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICB2YXIgc2VhcmNoQmxvY2sgPSAgJChcIi5uYXYtdG9vbHNfX3NlYXJjaC1ibG9ja19jbGlja1wiKTtcclxuICB2YXIgbWVudUJsb2NrID0gJChcIi5idXJnZXItbWVudV9fYmxvY2tcIik7XHJcbiAgXHJcbiAgaWYgKCQoXCJib2R5XCIpLmhhc0NsYXNzKFwiaG9tZVwiKSkge1xyXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gNzAgJiYgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPD0gNjAwKSB7XHJcbiAgICAgICAgaWYoc2VhcmNoQmxvY2suaGFzQ2xhc3MoXHJcbiAgICAgICAgICBcIm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrLXNob3dcIlxyXG4gICAgICAgICkgfHwgbWVudUJsb2NrLmhhc0NsYXNzKFwiYnVyZ2VyLW1lbnVfX2Jsb2NrLXNob3dcIikpIHtcclxuICAgICAgICAgICQoXCIuaGVhZGVyXCIpLmNzcyh7J2Rpc3BsYXknIDogJ2ZsZXgnfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoXCIuaGVhZGVyXCIpLmFkZENsYXNzKCdoZWFkZXItdmlzaWJpbGl0eS1ub25lJylcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKCdoZWFkZXItdmlzaWJpbGl0eS1ub25lJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID49IDYwMCkge1xyXG4gICAgIFxyXG4gICAgICAgICAgJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoXCJibGFjay1oZWFkZXJcIik7XHJcbiAgICAgICAgXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoXCJibGFjay1oZWFkZXJcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gIFxyXG5cclxuXHJcbi8vIFRvcC1zaXRlIHNsaWRlciBmdW5jdGlvbnMgXHJcblxyXG52YXIgc2xpZGVyTmF2QmxvY2sgPSAkKFwiLnNsaWRlci1uYXZfX2Jsb2NrXCIpO1xyXG52YXIgZG90ID0gJChcIi5kb3RcIik7XHJcbnZhciBsZWZ0QXJyb3cgPSAkKFwiLm5hdi1iYXJfX3ByZXZcIik7XHJcbnZhciByaWdodEFycm93ID0gJChcIi5uYXYtYmFyX19uZXh0XCIpO1xyXG5cclxuLy8gRnVuY3Rpb24gZm9yIGRlc2t0b3Agc2xpZGVyXHJcbnNsaWRlck5hdkJsb2NrLmNsaWNrKGZ1bmN0aW9uKCkgeyAgXHJcbiAgJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIikucmVtb3ZlQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuaGlkZSgpLmVxKCAkKHRoaXMpLmluZGV4KCkpLmFkZENsYXNzKCdjb250ZW50LWFjdGl2ZScpLnNob3coKTsgIFxyXG4gICQoJy5zbGlkZXItbmF2X19ibG9jaycpLnJlbW92ZUNsYXNzKCdhY3RpdmUtYmxvY2snKTtcclxuICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUtYmxvY2snKTsgIFxyXG59KTtcclxuLy8gRW5kIG9mIERlc2t0b3Agc2xpZGVyXHJcblxyXG4vLyBNb2JpbGUgc2xpZGVyXHJcbmRvdC5jbGljayhmdW5jdGlvbigpIHsgXHJcbiAgLy8gbGV0IHNsaWRlckJsb2NrID0gJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIik7IFxyXG4gICQoXCIuZG90XCIpLnJlbW92ZUNsYXNzKCdkb3QtYWN0aXZlJyk7XHJcbiAgJCh0aGlzKS5hZGRDbGFzcygnZG90LWFjdGl2ZScpOyAgXHJcbiAgJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIikucmVtb3ZlQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuaGlkZSgpLmVxKCAkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKSkuYWRkQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuc2hvdygpOyAgIFxyXG4gIFxyXG4gIGxldCBjdXJyZW50Q29sb3IgPSAkKCcuY29udGVudC1hY3RpdmUnKS5jaGlsZHJlbihcIi5zbGlkZXItbmF2X19ibG9jay10b3BcIikuY2hpbGRyZW4oXCIubmF2X19ibG9jay10b3BfX2NhdGVnb3J5XCIpLmNzcygnYmFja2dyb3VuZC1jb2xvcicpO1xyXG5cclxuICBcclxuICAkKFwiLmRvdFwiKS5jc3Moe1wiYmFja2dyb3VuZC1jb2xvclwiIDogXCIjOWQ5ZDlkXCJ9KTtcclxuICAkKHRoaXMpLmNzcyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCIgOiBjdXJyZW50Q29sb3J9KTtcclxufSk7XHJcblxyXG5sZWZ0QXJyb3cuY2xpY2soZnVuY3Rpb24oKSB7ICBcclxuICBsZXQgYWN0aXZlRG90ID0gJChcIi5kb3QtYWN0aXZlXCIpO1xyXG4gIGxldCBpbmRleE9mRG90ID0gJChcIi5kb3QtYWN0aXZlXCIpLmluZGV4KCk7XHJcbiAgbGV0IHNsaWRlckJsb2NrID0gJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIik7XHJcblxyXG5cclxuICBhY3RpdmVEb3QucmVtb3ZlQ2xhc3MoXCJkb3QtYWN0aXZlXCIpO1xyXG5cclxuICAkKFwiLmRvdFwiKS5lcShpbmRleE9mRG90IC0gMSkuYWRkQ2xhc3MoXCJkb3QtYWN0aXZlXCIpO1xyXG4gIHNsaWRlckJsb2NrLnJlbW92ZUNsYXNzKCdjb250ZW50LWFjdGl2ZScpLmhpZGUoKS5lcSggJChcIi5kb3QtYWN0aXZlXCIpLmluZGV4KCkpLmFkZENsYXNzKCdjb250ZW50LWFjdGl2ZScpLnNob3coKTtcclxuICBsZXQgY3VycmVudENvbG9yID0gJCgnLmNvbnRlbnQtYWN0aXZlJykuY2hpbGRyZW4oXCIuc2xpZGVyLW5hdl9fYmxvY2stdG9wXCIpLmNoaWxkcmVuKFwiLm5hdl9fYmxvY2stdG9wX19jYXRlZ29yeVwiKS5jc3MoJ2JhY2tncm91bmQtY29sb3InKTtcclxuXHJcbiAgJChcIi5kb3QtYWN0aXZlXCIpLmNzcyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCIgOiBjdXJyZW50Q29sb3J9KTtcclxuICBpZigkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKSA9PT0gMykge1xyXG4gICAgJChcIi5kb3RcIikuZXEoMCkuY3NzKHtcImJhY2tncm91bmQtY29sb3JcIiA6IFwiIzlkOWQ5ZFwifSk7ICAgIFxyXG4gIH1cclxuICAkKFwiLmRvdFwiKS5lcSgkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKSArIDEpLmNzcyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCIgOiBcIiM5ZDlkOWRcIn0pO1xyXG5cclxufSk7XHJcblxyXG5cclxucmlnaHRBcnJvdy5jbGljayhmdW5jdGlvbigpIHsgIFxyXG4gIHZhciBhY3RpdmVEb3QgPSAkKFwiLmRvdC1hY3RpdmVcIik7XHJcbiAgdmFyIGluZGV4T2ZEb3QgPSAkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKTtcclxuICB2YXIgc2xpZGVyQmxvY2sgPSAkKFwiLnNsaWRlci1mb3JfX2NvbnRhaW5lclwiKTtcclxuXHJcbiAgYWN0aXZlRG90LnJlbW92ZUNsYXNzKFwiZG90LWFjdGl2ZVwiKTtcclxuXHJcbiAgaWYoaW5kZXhPZkRvdCA9PT0gMykge1xyXG4gICAgJChcIi5kb3RcIikuZXEoMCkuYWRkQ2xhc3MoXCJkb3QtYWN0aXZlXCIpOyAgICBcclxuICB9IGVsc2V7XHJcbiAgICAkKFwiLmRvdFwiKS5lcShpbmRleE9mRG90ICsgMSkuYWRkQ2xhc3MoXCJkb3QtYWN0aXZlXCIpOyAgICBcclxuICB9XHJcbiAgXHJcbiAgc2xpZGVyQmxvY2sucmVtb3ZlQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuaGlkZSgpLmVxKCAkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKSkuYWRkQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuc2hvdygpO1xyXG4gIGxldCBjdXJyZW50Q29sb3IgPSAkKCcuY29udGVudC1hY3RpdmUnKS5jaGlsZHJlbihcIi5zbGlkZXItbmF2X19ibG9jay10b3BcIikuY2hpbGRyZW4oXCIubmF2X19ibG9jay10b3BfX2NhdGVnb3J5XCIpLmNzcygnYmFja2dyb3VuZC1jb2xvcicpO1xyXG5cclxuICAkKFwiLmRvdC1hY3RpdmVcIikuY3NzKHtcImJhY2tncm91bmQtY29sb3JcIiA6IGN1cnJlbnRDb2xvcn0pO1xyXG4gICQoXCIuZG90XCIpLmVxKCQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpIC0gMSkuY3NzKHtcImJhY2tncm91bmQtY29sb3JcIiA6IFwiIzlkOWQ5ZFwifSk7XHJcblxyXG5cclxufSk7XHJcbi8vIEVuZCBvZiBtb2JpbGUgc2xpZGVyXHJcblxyXG4vLyBFbmQgb2YgdG9wLXNpdGUgc2xpZGVyIGZ1bmN0aW9uc1xyXG5cclxuXHJcbiQoXCIuaGlkZGVuLWJsb2NrX19vcGVuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgJChcIi50ZXh0LWJsb2NrX19oYWxmLWhpZGRlblwiKS50b2dnbGVDbGFzcyhcInRleHQtYmxvY2tfX2hhbGYtaGlkZGVuX19vcGVuXCIpO1xyXG5cclxuICBpZiggJChcIi50ZXh0LWJsb2NrX19oYWxmLWhpZGRlblwiKS5oYXNDbGFzcyhcInRleHQtYmxvY2tfX2hhbGYtaGlkZGVuX19vcGVuXCIpKSB7XHJcbiAgICAkKFwiLmhpZGRlbi1ibG9ja19fb3BlblwiKS5odG1sKFwi0KHQstC10YDQvdGD0YLRjFwiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJChcIi5oaWRkZW4tYmxvY2tfX29wZW5cIikuaHRtbChcItCg0LDQt9Cy0LXRgNC90YPRgtGMXCIpO1xyXG4gIH0gIFxyXG59KVxyXG4gIFxyXG59KTtcclxuIl0sImZpbGUiOiJhcHAubWluLmpzIn0=
